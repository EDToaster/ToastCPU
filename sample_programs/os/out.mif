DEPTH = 32768;                -- The size of memory in words
WIDTH = 16;                   -- The size of data in bits
ADDRESS_RADIX = HEX;          -- The radix for address values
DATA_RADIX = HEX;             -- The radix for data values
CONTENT                       -- start of (address : data pairs)
BEGIN
0000 : 2C08; -- imov r12 .isr
0001 : 2000; -- call .main
0002 : 904A; -- 
0003 : 9002; -- 
0004 : 904A; -- 
0005 : 9092; -- 
0006 : A010; -- 
0007 : 7000; -- halt
0008 : A020; -- jmpr
0009 : 2143; -- imov r1 .welcome_message        # load message
000A : 5D10; -- push r1                         # push argument to stack
000B : 2000; -- call .print_string
000C : 904A; -- 
000D : 9012; -- 
000E : 904A; -- 
000F : 9032; -- 
0010 : A010; -- 
0011 : 61D0; -- pop  r1
0012 : A020; -- jmpr
0013 : 5D20; -- push r2 # message pointer
0014 : 5D30; -- push r3 # char to print
0015 : 5D40; -- push r4 # VGA pointer
0016 : 5D50; -- push r5 # jmp loc
0017 : 2400; -- imov r4 0
0018 : 82D6; -- mov  r2 r13
0019 : 9265; -- isub r2 6
001A : 0220; -- load r2 r2 # r2 is now the argument/pointer
001B : 252D; -- imov r5 .print_string_exit
001C : 0320; -- load r3 r2
001D : 9304; -- iadd r3 0 # load doesn't do arith
001E : A501; -- jz   r5
001F : 5D30; -- push r3
0020 : 5D40; -- push r4
0021 : 2000; -- call .print_char
0022 : 904A; -- 
0023 : 9032; -- 
0024 : 904A; -- 
0025 : 9022; -- 
0026 : A010; -- 
0027 : 64D0; -- pop  r4
0028 : 63D0; -- pop  r3
0029 : 9214; -- iadd r2 1
002A : 9414; -- iadd r4 1
002B : 251B; -- imov r5 .print_string_loop
002C : A500; -- jmp  r5
002D : 65D0; -- pop  r5
002E : 64D0; -- pop  r4
002F : 63D0; -- pop  r3
0030 : 62D0; -- pop  r2
0031 : A020; -- jmpr
0032 : 5D20; -- push r2
0033 : 5D30; -- push r3
0034 : 5D40; -- push r4
0035 : 82D6; -- mov  r2 r13
0036 : 9265; -- isub r2 6
0037 : 0220; -- load r2 r2 # r2 is now char
0038 : 84D6; -- mov  r4 r13
0039 : 9455; -- isub r4 5
003A : 0440; -- load r4 r4 # r4 is now word *
003B : 2338; -- imov r3 0b00111000
003C : 938A; -- ishl r3 8
003D : 8232; -- or  r2 r3
003E : 1420; -- str  r4 r2
003F : 64D0; -- pop  r4
0040 : 63D0; -- pop  r3
0041 : 62D0; -- pop  r2
0042 : A020; -- jmpr
0043 : 0048; -- 0x48
0044 : 0065; -- 0x65
0045 : 006C; -- 0x6C
0046 : 006C; -- 0x6C
0047 : 006F; -- 0x6F
0048 : 0020; -- 0x20
0049 : 0066; -- 0x66
004A : 0072; -- 0x72
004B : 006F; -- 0x6f
004C : 006D; -- 0x6d
004D : 0020; -- 0x20
004E : 0054; -- 0x54
004F : 006F; -- 0x6f
0050 : 0061; -- 0x61
0051 : 0073; -- 0x73
0052 : 0074; -- 0x74
0053 : 004F; -- 0x4f
0054 : 0053; -- 0x53
0055 : 0021; -- 0x21
0056 : 0048; -- 0x48
0057 : 0065; -- 0x65
0058 : 006C; -- 0x6C
0059 : 006C; -- 0x6C
005A : 006F; -- 0x6F
005B : 0020; -- 0x20
005C : 0066; -- 0x66
005D : 0072; -- 0x72
005E : 006F; -- 0x6f
005F : 006D; -- 0x6d
0060 : 0020; -- 0x20
0061 : 0054; -- 0x54
0062 : 006F; -- 0x6f
0063 : 0061; -- 0x61
0064 : 0073; -- 0x73
0065 : 0074; -- 0x74
0066 : 004F; -- 0x4f
0067 : 0053; -- 0x53
0068 : 0021; -- 0x21
0069 : 0048; -- 0x48
006A : 0065; -- 0x65
006B : 006C; -- 0x6C
006C : 006C; -- 0x6C
006D : 006F; -- 0x6F
006E : 0020; -- 0x20
006F : 0066; -- 0x66
0070 : 0072; -- 0x72
0071 : 006F; -- 0x6f
0072 : 006D; -- 0x6d
0073 : 0020; -- 0x20
0074 : 0054; -- 0x54
0075 : 006F; -- 0x6f
0076 : 0061; -- 0x61
0077 : 0073; -- 0x73
0078 : 0074; -- 0x74
0079 : 004F; -- 0x4f
007A : 0053; -- 0x53
007B : 0021; -- 0x21
007C : 0048; -- 0x48
007D : 0065; -- 0x65
007E : 006C; -- 0x6C
007F : 006C; -- 0x6C
0080 : 006F; -- 0x6F
0081 : 0020; -- 0x20
0082 : 0066; -- 0x66
0083 : 0072; -- 0x72
0084 : 006F; -- 0x6f
0085 : 006D; -- 0x6d
0086 : 0020; -- 0x20
0087 : 0054; -- 0x54
0088 : 006F; -- 0x6f
0089 : 0061; -- 0x61
008A : 0073; -- 0x73
008B : 0074; -- 0x74
008C : 004F; -- 0x4f
008D : 0053; -- 0x53
008E : 0021; -- 0x21
008F : 0048; -- 0x48
0090 : 0065; -- 0x65
0091 : 006C; -- 0x6C
0092 : 006C; -- 0x6C
0093 : 006F; -- 0x6F
0094 : 0020; -- 0x20
0095 : 0066; -- 0x66
0096 : 0072; -- 0x72
0097 : 006F; -- 0x6f
0098 : 006D; -- 0x6d
0099 : 0020; -- 0x20
009A : 0054; -- 0x54
009B : 006F; -- 0x6f
009C : 0061; -- 0x61
009D : 0073; -- 0x73
009E : 0074; -- 0x74
009F : 004F; -- 0x4f
00A0 : 0053; -- 0x53
00A1 : 0021; -- 0x21
00A2 : 0048; -- 0x48
00A3 : 0065; -- 0x65
00A4 : 006C; -- 0x6C
00A5 : 006C; -- 0x6C
00A6 : 006F; -- 0x6F
00A7 : 0020; -- 0x20
00A8 : 0066; -- 0x66
00A9 : 0072; -- 0x72
00AA : 006F; -- 0x6f
00AB : 006D; -- 0x6d
00AC : 0020; -- 0x20
00AD : 0054; -- 0x54
00AE : 006F; -- 0x6f
00AF : 0061; -- 0x61
00B0 : 0073; -- 0x73
00B1 : 0074; -- 0x74
00B2 : 004F; -- 0x4f
00B3 : 0053; -- 0x53
00B4 : 0021; -- 0x21
00B5 : 0048; -- 0x48
00B6 : 0065; -- 0x65
00B7 : 006C; -- 0x6C
00B8 : 006C; -- 0x6C
00B9 : 006F; -- 0x6F
00BA : 0020; -- 0x20
00BB : 0066; -- 0x66
00BC : 0072; -- 0x72
00BD : 006F; -- 0x6f
00BE : 006D; -- 0x6d
00BF : 0020; -- 0x20
00C0 : 0054; -- 0x54
00C1 : 006F; -- 0x6f
00C2 : 0061; -- 0x61
00C3 : 0073; -- 0x73
00C4 : 0074; -- 0x74
00C5 : 004F; -- 0x4f
00C6 : 0053; -- 0x53
00C7 : 0021; -- 0x21
00C8 : 0048; -- 0x48
00C9 : 0065; -- 0x65
00CA : 006C; -- 0x6C
00CB : 006C; -- 0x6C
00CC : 006F; -- 0x6F
00CD : 0020; -- 0x20
00CE : 0066; -- 0x66
00CF : 0072; -- 0x72
00D0 : 006F; -- 0x6f
00D1 : 006D; -- 0x6d
00D2 : 0020; -- 0x20
00D3 : 0054; -- 0x54
00D4 : 006F; -- 0x6f
00D5 : 0061; -- 0x61
00D6 : 0073; -- 0x73
00D7 : 0074; -- 0x74
00D8 : 004F; -- 0x4f
00D9 : 0053; -- 0x53
00DA : 0021; -- 0x21
00DB : 0000; -- 0x00
END;